    return finalizeResponse();
  }

  }

  // off_topic â†’ LLM prompt (fallback to static)
  if (intent === 'off_topic') {
    try {
